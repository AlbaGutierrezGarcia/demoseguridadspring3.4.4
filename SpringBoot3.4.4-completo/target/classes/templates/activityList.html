<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
	<head>
	    <meta charset="UTF-8">
	    <title>Gestión de actividades</title>
	    <link rel="stylesheet" href="/css/styles.css">
	    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body class="bg-light">
		<div class="container mt-5">
		    <h2 class="mb-4">Actividades del evento: <span th:text="${event.title}"></span></h2>
		
		    <!-- Botón para añadir nueva actividad -->
		    <div class="mb-3">
		        <a th:href="@{/activity/create/{id}(id=${event.id})}" class="btn btn-success">Añadir nueva actividad</a>
		    </div>
		
		    <!-- Lista de actividades -->
		    <div class="card">
		        <div class="card-body">
		            <table class="table table-hover">
		                <thead>
		                    <tr>
		                        <th>Nombre</th>
		                        <th>Descripción</th>
		                        <th>Inicio</th>
		                        <th>Fin</th>
		                        <th>Acciones</th>
		                    </tr>
		                </thead>
		                <tbody>
		                    <tr th:each="activity : ${activities}">
		                        <td th:text="${activity.name}">Nombre</td>
		                        <td th:text="${activity.description}">Descripción</td>
		                        <td th:text="${activity.startTime}">Inicio</td>
		                        <td th:text="${activity.endTime}">Fin</td>
		                        <td>
		                            <a th:href="@{'/activity/edit/' + ${activity.id}}" 
									class="btn btn-sm btn-primary">Editar</a>
		                            
									<a th:href="@{'/activity/delete/' + ${activity.id} + '?eventId=' + ${event.id}}" 
									class="btn btn-sm btn-danger">Eliminar</a>
		                        </td>
		                    </tr>
		                    <tr th:if="${#lists.isEmpty(activities)}">
		                        <td colspan="5" class="text-center text-muted">No hay actividades aún.</td>
		                    </tr>
		                </tbody>
		            </table>
		        </div>
		    </div>
		
		    <a th:href="@{'/event/info/' + ${event.id}}" class="btn btn-secondary mt-3">Volver al evento</a>
		</div>
	</body>
</html>
