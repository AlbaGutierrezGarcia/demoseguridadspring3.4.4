<!DOCTYPE html>
<html lang="es" xmlns:th="http://www.thymeleaf.org">
	<head>
	    <title>Lista de usuarios</title>
		<meta charset="UTF-8">
		<link rel="stylesheet" href="/css/styles.css">
		<!-- Bootstrap CDN -->
	  	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
	</head>
	<body>
		<h2 class="text-white text-center py-3 mb-0" style="background-color: var(--secondary-color)">Lista de usuarios</h2>
		
		<!-- Nav Menu -->
        <div th:replace="~{fragments/navMenu :: navMenu}"></div>
		
		<main>
	    <div>
	        <h1 class="m-3">Lista de usuarios</h1>
			<div class="m-3">
	        	<div th:replace="~{fragments/linkButton :: boton('Nuevo usuario', '/register', '', 'background-color: #1E88E5;')}"></div>
			<div>
			<hr>
			
			<div class="container-fluid mt-4">
	            <table class="table table-striped table-bordered table-hover" style="width: 50%; margin-left: 0;">
	                <thead class="table-dark">
	                    <tr>
	                        <th>ID</th>
	                        <th>Nombre usuario</th>
	                        <th>Rol</th>
	                        <th>Acciones</th>
	                    </tr>
	                </thead>
	                <tbody>
	                    <tr th:each="user : ${listUsers}">
	                        <td th:text="${user.id}"></td>
	                        <td th:text="${user.username}"></td>
	                        <td th:text="${user.rol}"></td>
	                        <td>
	                            <form th:action="@{/remove}" method="POST" class="d-inline">
	                                <input required type="hidden" name="id" th:value="${user.id}" />
	                                <button type="submit" class="btn btn-danger btn-sm">Eliminar</button>
	                            </form>
	
	                            <form th:action="@{/update-user-data}" method="GET" class="d-inline">
	                                <input required type="hidden" name="id" th:value="${user.id}" />
	                                <button type="submit" class="btn btn-warning btn-sm">Actualizar</button>
	                            </form>
	                        </td>
	                    </tr>
	                </tbody>
	            </table>
	        </div>
		</div>
		
		<div class="m-3" th:replace="~{fragments/backButton :: boton('/', '', 'background-color: #1E88E5;')}"></div>
		</main>
		
		<!-- Footer -->
	    <div th:replace="~{fragments/footer :: footer}"></div>
	</body>
</html>